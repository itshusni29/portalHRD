{% extends 'layouts/base.html' %}

{% block title %} Jadwal Bus {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
{% load custom_filters %}

    <!-- Header -->
    <div class="header bg-white pb-6">
      <div class="container-fluid">
        
        <div class="header-body">
          <div class="row py-4">
            <div class="col-lg-12" style="text-align: right;">           
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Page content -->
    <div class="container-fluid mt--6 bg-white">
      <row>
        <div class="col-md-10 mx-auto" style="margin-bottom: 150px;">
          <div class="card card-stats">
            <div class="card-body">

              <div class="col-md-12 mx-auto"><h1 class="header_page_label">JADWAL KEBERANGKATAN BUS DARI TITIK AWAL <br> & SHUTTLE BUS</h1></div>
              {% if user.is_authenticated %}
              <a href="{% url 'form_create' %}" class="btn btn-success mt-3 mb-3">
                <i class="fas fa-edit"> Create Jadwal Bus</i>
              </a>
              {% endif %}
              <!-- Light table -->
              <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="pills-plant1-tab" data-toggle="pill" data-target="#pills-plant1" type="button" role="tab" aria-controls="pills-plant1" aria-selected="true">Plant 1</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link " id="pills-plant2-tab" data-toggle="pill" data-target="#pills-plant2" type="button" role="tab" aria-controls="pills-plant2" aria-selected="true">Plant 2</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-shuttle-tab" data-toggle="pill" data-target="#pills-shuttle" type="button" role="tab" aria-controls="pills-shuttle" aria-selected="false">Shuttle</button>
                </li>
              </ul>
              <div class="tab-content" id="pills-tabContent">

                <!-- plant1 -->
                <div class="tab-pane fade show active" id="pills-plant1" role="tabpanel" aria-labelledby="pills-home-tab">
                  <!-------------------- TABLE BUS PLANT 1 -------------------->
                  <div class="table-responsive mt-5">
                      <h1 class="table-label">Jadwal Bus Jemputan Plant 1</h1>
                      <table class="table">
                        <thead class="table-head-bg">
                            <tr>
                                <th>Titik Start</th>
                                <th>Rute</th>
                                <th>Seat</th>
                                <th>Shift-1</th>
                                <th>Shift-2</th>
                                <th>Shift-3</th>
                                {% if user.is_authenticated %}
                                    <th>Action</th>
                                {% endif %}
                            </tr>
                        </thead>
                        <tbody>
                          {% for form in forms %}
                              {% if form.plant == "1" %}
                                  <tr>
                                      <td>{{ form.titikStart }}</td>
                                      <td>
                                          {% for segment in form.via|split_segments:" - " %}
                                              {{ segment }}<br>
                                          {% endfor %}
                                      </td>
                                      <td>{{ form.seat }}</td>
                                      <td>{{ form.shift1 }}</td>
                                      <td>{{ form.shift2 }}</td>
                                      <td>{{ form.shift3 }}</td>
                                      {% if user.is_authenticated %}
                                          <td>
                                              <div class="d-flex">
                                                  <a href="{% url 'jadwal_bus_update' form.id %}" class="btn btn-info mb-1">
                                                      <i class="fas fa-edit"></i>
                                                  </a>
                                                  <form method="post" action="{% url 'jadwal_bus_delete' form.id %}">
                                                      {% csrf_token %}
                                                      <button type="submit" class="btn btn-danger">
                                                          <i class="fas fa-trash"></i>
                                                      </button>
                                                  </form>
                                              </div>
                                          </td>
                                      {% endif %}
                                  </tr>
                              {% endif %}
                          {% empty %}
                              <tr>
                                  <td colspan="8">No Jadwal Bus available.</td>
                              </tr>
                          {% endfor %}
                      </tbody>
                    </table>
                  </div>
                  <!-------------------- END TABLE BUS PLANT 1 -------------------->
                </div>
              
                <!-- plat2 -->
                <div class="tab-pane fade show" id="pills-plant2" role="tabpanel" aria-labelledby="pills-home-tab">
                    <div class="table-responsive mt-5">
                        <h1 class="table-label">Jadwal Bus Jemputan Plant 2</h1>
                        <table class="table">
                            <thead class="table-head-bg">
                                <tr>
                                  <th>Titik Start</th>
                                  <th>Rute</th>
                                  <th>Seat</th>
                                  <th>Shift-1</th>
                                  <th>Shift-2</th>
                                  <th>Shift-3</th>
                                  {% if user.is_authenticated %}
                                  <th>Action</th>
                                  {% endif %}
                                </tr>
                            </thead>
                            <tbody>
                                
                                {% for form in forms %}
                                    {% if form.plant == "2" %}
                                        <tr>
                                            <td>{{ form.titikStart }}</td>
                                            <td>
                                              {% for segment in form.via|split_segments:" - " %}
                                                  {{ segment }}<br>
                                              {% endfor %}
                                            </td>
                                            <td>{{ form.seat }}</td>
                                            <td>{{ form.shift1 }}</td>
                                            <td>{{ form.shift2 }}</td>
                                            <td>{{ form.shift3 }}</td>
                                            {% if user.is_authenticated %}
                                            <td>
                                              <div class="d-flex">
                                                <a href="{% url 'jadwal_bus_update' form.id %}" class="btn btn-info mb-1">
                                                  <i class="fas fa-edit"></i>
                                                </a>
                                                <form method="post" action="{% url 'jadwal_bus_delete' form.id %}">
                                                  {% csrf_token %}
                                                  <button type="submit" class="btn btn-danger">
                                                    <i class="fas fa-trash"></i>
                                                  </button>
                                                </form>
                                              </div>
                                            </td>
                                            {% else %}
                                            {% endif %}
                                        </tr>
                                    {% endif %}
                                {% empty %}
                                    <tr>
                                        <td colspan="8">No Jadwal Bus available.</td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div> 
                </div>
              
              
              

                <!-- shuttle -->
                <div class="tab-pane fade show" id="pills-shuttle" role="tabpanel" aria-labelledby="pills-home-tab">
                  <div class="table-responsive mt-5">
                    <h1 class="table-label">Jadwal Shuttle Bus, Plant 1  â†”  Plant 2
                    </h1>
                    <table class="table text-center">
                      <thead class="table-head-bg" >
                        <tr >
                          <th rowspan="2" style="vertical-align: middle; width: 20%; border: 2px solid #000000;">Keberangkatan</th>
                          <th colspan="2" style="border: 2px solid #000000;">Titik Start</th>
                        </tr>
                        <tr>
                          <th style="border: 2px solid #000000; ">Plant 1</th>
                          <th style="border: 2px solid #000000;">Plant 2</th>
                        </tr>
                      </thead>
                        <tbody style="border: 2px solid #000000;">
                          <tr style="border: 2px solid #000000;">
                            <td style="border: 2px solid #000000;">1</td>
                            <td style="border: 2px solid #000000;">08.00</td>
                            <td style="border: 2px solid #000000;">08.15</td>
                          </tr>
                          <tr style="border: 2px solid #000000;">
                            <td style="border: 2px solid #000000;">2</td>
                            <td style="border: 2px solid #000000;">10.00</td>
                            <td style="border: 2px solid #000000;">11.30</td>
                          </tr style="border: 2px solid #000000;">
                          <tr>
                            <td style="border: 2px solid #000000;">3</td>
                            <td style="border: 2px solid #000000;">13.00</td>
                            <td style="border: 2px solid #000000;">13.15</td>
                          </tr>
                          <tr style="border: 2px solid #000000;">
                            <td style="border: 2px solid #000000;">4</td>
                            <td style="border: 2px solid #000000;">15.00</td>
                            <td style="border: 2px solid #000000;">16.00</td>
                          </tr>
                        </tbody>
                      </table>
                  </div> 
                </div>
              </div>
            </div>
          </div>
        </div>
      </row>
      <a id="scrollToTop" href="#" title="Go to top"><i class="ni ni-bold-up"></i></a>
  
  
    </div>
    {% include "includes/footer.html" %}

{% endblock content %}

<!-- Specific JS goes HERE --> 
{% block javascripts %}

  <script src="/static/assets/vendor/chart.js/dist/Chart.min.js"></script>
  <script src="/static/assets/vendor/chart.js/dist/Chart.extension.js"></script>

{% endblock javascripts %}
